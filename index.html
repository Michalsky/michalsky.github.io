<!DOCTYPE html>
<html lang="en">
<script src='https://d3js.org/d3.v5.min.js'></script>
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			path1tent="width=device-width,
					initial-scale=1.0"/>
		<title>A Pokemon Trainer's First Big Decision</title>
	</head>
		<style>
			.myBulbasaurDiv {
			  border: 5px outset green;
				position: fixed;
				border-color: green;
				left: 10px;
				top: 150px;
				height: 150px;
				width: 150px;
				background-image: url('profile-background.jpeg');}
			.myCharmanderDiv{
				border: 5px outset red;
				position: fixed;
  			left: 10px;
				top: 320px;
				border-color: red;
				height: 150px;
				width: 150px;
				background-image: url('profile-background.jpeg');}
			.mySquirtleDiv{
				border: 5px outset blue;
				position: fixed;
  			left: 10px;
				top: 500px;
				border-color: blue;
				height: 150px;
				width: 150px;
				background-image: url('profile-background.jpeg');
				}
			.myNamplate{
				position: relative;
				text-align:center;
				font-family: courier;
				bottom: 0;
			}
			.myChart{
				position: fixed;
				top: 150px;
				bottom: 10px;
				right: 10px;
				width: 33%;
				background-image: url('pokedex-screen.jpeg');
				border-color: black;
				border: 5px outset black;
				text-align: center;
				font-family: courier;
			}
			.myLogo{
				position: fixed;
				height: 150px;
				top: 0px;
				left: 25%;
				right: 25%;
			}
				body {
				position: absolute;
				background-image: url('pallet-town.jpeg');
				background-repeat: no-repeat;
				background-size: cover;
				}
				input{
					display: block;
					margin-left: auto;
					margin-right: auto;
					height: 130px;
					width: 130px;
				}
				svg{
					position: fixed;
					z-index: 1;
					bottom: 15px;
					right: 15px;
				}
	</style>
	<body onload='init()'>
			<script>
				var bulbasaur = d3.select("#bulbasaur");
				var charmander = d3.select("#charmander");
				var squirtle = d3.select("#squirtle");
				const poke_ids = [1,4,7];
				var new_i = 0;
				var filtered = [];
				var width = Math.floor(window.innerWidth * 0.28);

				async function init(){
					const data = await d3.csv("/pokemon/data/pokemon.csv");
					data.forEach((item, i) => {
						if(poke_ids.includes(i+1)){
							filtered[new_i] = item;
							new_i++;
						}
					});
				  new_i = 0;
				};


				// var xdomain = [0,3];
				// var ydomain = [0,1];
				// var xrange =  [0,3];
				// var yrange = [0, 500];

				data = filtered;
				console.log = filtered;
				var svg = d3.select("body")
                .append("svg")
                .attr("height", 500)
								.attr("width", width)
								.attr("bottom", 20);

				var aNum = ["1","4","7"];
		    // Create scale
		    var x_scale = d3.scaleBand()
		                  .domain([1,4,7])
		                  .range([0, width - 100]);
				var y_scale = d3.scaleLinear().domain([99,0]).range([0,400]);

		    // Add scales to axis
		    var x_axis = d3.axisBottom().scale(x_scale);
				var y_axis = d3.axisLeft().scale(y_scale);

		    //Append group and insert axis
				svg.append("g").selectAll('').data(data).enter().append("rect").attr("x", function(d) { return x_scale(d.Num); })
         .attr("y", function(d) { return y_scale(d.HP); })
         .attr("width", x_scale.bandwidth())
         .attr("height", function(d) { return height - y_scale(d.HP); });
		    svg.append("g").call(x_axis).attr("transform","translate(20,420)");
				svg.append("g").call(y_axis).attr("transform","translate(20,20)");


				//function("")

			</script>
		  <img src='logo.png' class='myLogo'/>
			<div class="myBulbasaurDiv">
				<input type="image"  data-toggle="tooltip" title="I Choose You, Bulbasaur!" src="/pokemon/images/1.png"  onclick="location.href='bulbasaur.html';" id="bulbasaur"/>
				<div class="myNamplate">Bulbasaur</div>
			</div>
			<div class="myCharmanderDiv">
				<input type="image" data-toggle="tooltip" title="I Choose You, Charmander!" src="/pokemon/images/4.png" onclick="location.href='charmander.html';" id="charmander"/>
				<div class="myNamplate">Charmander</div>
			</div>
			<div class="mySquirtleDiv">
				<input type="image" data-toggle="tooltip" title="I Choose You, Squirtle!" src="/pokemon/images/7.png" onclick="location.href='squirtle.html';" id="squirtle"/>
				<div class="myNamplate">Squirtle</div>
			</div>
			<div class="myChart">Pokemon Readings
				<button id="HP" onclick="makeHPChart()">Health Points</button>
				<button id="STR" onclick="makeSTRChart()">Strength</button>
				<button id="DEF" onclick="makeDEFChart()">Defense</button>
			</div>
	</body>
</html>
